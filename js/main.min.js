require.config({
    baseUrl: 'js',
    paths: {
        jquery      : 'lib/jquery/jquery-1.10.2.min',
        bootstrap   : 'lib/bootstrap/bootstrap.min',
        angular     : 'lib/angular/angular.min',
        angularRoute: 'lib/angular/angular-route.min',
        modernizr   : 'lib/modernizr/modernizr.custom',
        jqueryui    : 'lib/jquery/plugins/jquery-ui/jquery-ui-1.10.3.custom.min',
        jnotify     : 'lib/jquery/plugins/jquery-notify/jquery.jnotify.min',
        jlayout     : 'lib/jquery/plugins/jquery-layout/jquery.layout-latest.min',
        jminimalect : 'lib/jquery/plugins/jquery-minimalect/jquery.minimalect.min',
        jslimscroll : 'lib/jquery/plugins/jquery-slimscroll/jquery.slimscroll.min',
        btswitch    : 'lib/bootstrap/plugins/bootstrap-switch/bootstrap-switch.min'
    },
    shim: {
        "jquery"        : { exports: '$' },
        "bootstrap"     : { deps: ["jquery"] },
        "btswitch"      : { deps: ["jquery", "bootstrap"] },
        "jqueryui"      : { deps: ["jquery"], exports: "jqueryui" },
        "jnotify"       : { deps: ["jquery"], exports: "jnotify" },
        "jlayout"       : { deps: ["jquery", "jqueryui"], exports: "jlayout" },
        "jminimalect"   : { deps: ["jquery"] },
        "jslimscroll"   : { deps: ["jquery"] },
        "angular"       : { exports: "angular" },
        "angularRoute"  : { deps: ["angular"] },
        "modernizr"     : { exports: "modernizr" }
    },
    priority: [
        "jquery",
        "angular"
    ]
});

window.name = "NG_DEFER_BOOTSTRAP!";

require( [
    'jquery',
    'angular',
    'app/init',
    'modernizr',
    'bootstrap'
], function($, angular, init, modernizr) {
    'use strict';
    var $html = angular.element(document.getElementsByTagName('html')[0]);

    angular.element().ready(function() {
        $html.addClass('ng-app');
        angular.bootstrap($html, [init['name']]);
    });
});
