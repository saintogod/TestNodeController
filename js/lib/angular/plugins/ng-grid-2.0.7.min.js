define(["jquery","app/util"],function(a){(function(n,h){var E=6;var u=4;var z="asc";var e="desc";var t="_ng_field_";var s="_ng_depth_";var c="_ng_hidden_";var o="_ng_column_";var f=/CUSTOM_FILTERS/g;var q=/COL_FIELD/g;var r=/DISPLAY_CELL_TEMPLATE/g;var l=/EDITABLE_CELL_TEMPLATE/g;var x=/<.+>/;n.ngGrid={};n.ngGrid.i18n={};var C=angular.module("ngGrid.services",[]);var d=angular.module("ngGrid.directives",[]);var w=angular.module("ngGrid.filters",[]);angular.module("ngGrid",["ngGrid.services","ngGrid.directives","ngGrid.filters"]);var v=function(V,O,T,H){if(V.selectionProvider.selectedItems===undefined){return true}var L=T.which||T.keyCode,J,N=false,R=false,Q=V.selectionProvider.lastClickedRow===undefined?1:V.selectionProvider.lastClickedRow.rowIndex,W=V.columns.filter(function(ab){return ab.visible}),P=V.columns.filter(function(ab){return ab.pinned});if(V.col){J=W.indexOf(V.col)}if(L!==37&&L!==38&&L!==39&&L!==40&&L!==9&&L!==13){return true}if(V.enableCellSelection){if(L===9){T.preventDefault()}var Y=V.showSelectionCheckbox?V.col.index===1:V.col.index===0;var Z=V.$index===1||V.$index===0;var aa=V.$index===(V.renderedColumns.length-1)||V.$index===(V.renderedColumns.length-2);var X=W.indexOf(V.col)===(W.length-1);var I=P.indexOf(V.col)===(P.length-1);if(L===37||L===9&&T.shiftKey){var K=0;if(!Y){J-=1}if(Z){if(Y&&L===9&&T.shiftKey){K=H.$canvas.width();J=W.length-1;R=true}else{K=H.$viewport.scrollLeft()-V.col.width}}else{if(P.length>0){K=H.$viewport.scrollLeft()-W[J].width}}H.$viewport.scrollLeft(K)}else{if(L===39||L===9&&!T.shiftKey){if(aa){if(X&&L===9&&!T.shiftKey){H.$viewport.scrollLeft(0);J=V.showSelectionCheckbox?1:0;N=true}else{H.$viewport.scrollLeft(H.$viewport.scrollLeft()+V.col.width)}}else{if(I){H.$viewport.scrollLeft(0)}}if(!X){J+=1}}}}var U;if(V.configGroups.length>0){U=H.rowFactory.parsedData.filter(function(ab){return !ab.isAggRow})}else{U=H.filteredRows}var M=0;if(Q!==0&&(L===38||L===13&&T.shiftKey||L===9&&T.shiftKey&&R)){M=-1}else{if(Q!==U.length-1&&(L===40||L===13&&!T.shiftKey||L===9&&N)){M=1}}if(M){var S=U[Q+M];if(S.beforeSelectionChange(S,T)){S.continueSelection(T);V.$emit("ngGridEventDigestGridParent");if(V.selectionProvider.lastClickedRow.renderedRowIndex>=V.renderedRows.length-E-2){H.$viewport.scrollTop(H.$viewport.scrollTop()+V.rowHeight)}else{if(V.selectionProvider.lastClickedRow.renderedRowIndex<=E+2){H.$viewport.scrollTop(H.$viewport.scrollTop()-V.rowHeight)}}}}if(V.enableCellSelection){setTimeout(function(){V.domAccessProvider.focusCellElement(V,V.renderedColumns.indexOf(W[J]))},3)}return false};if(!String.prototype.trim){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}}if(!Array.prototype.indexOf){Array.prototype.indexOf=function(I){var H=this.length>>>0;var J=Number(arguments[1])||0;J=(J<0)?Math.ceil(J):Math.floor(J);if(J<0){J+=H}for(;J<H;J++){if(J in this&&this[J]===I){return J}}return -1}}if(!Array.prototype.filter){Array.prototype.filter=function(I){var M=Object(this);var H=M.length>>>0;if(typeof I!=="function"){throw new TypeError()}var L=[];var K=arguments[1];for(var J=0;J<H;J++){if(J in M){var N=M[J];if(I.call(K,N,J,M)){L.push(N)}}}return L}}w.filter("checkmark",function(){return function(H){return H?"\u2714":"\u2718"}});w.filter("ngColumns",function(){return function(H){return H.filter(function(I){return !I.isAggCol})}});angular.module("ngGrid.services").factory("$domUtilityService",["$utilityService",function(K){var H={};var J={};var I=function(){var L=h("<div></div>");L.appendTo("body");L.height(100).width(100).css("position","absolute").css("overflow","scroll");L.append('<div style="height: 400px; width: 400px;"></div>');H.ScrollH=(L.height()-L[0].clientHeight);H.ScrollW=(L.width()-L[0].clientWidth);L.empty();L.attr("style","");L.append('<span style="font-family: Verdana, Helvetica, Sans-Serif; font-size: 14px;"><strong>M</strong></span>');H.LetterW=L.children().first().width();L.remove()};H.eventStorage={};H.AssignGridContainers=function(L,N,M){M.$root=h(N);M.$topPanel=M.$root.find(".ngTopPanel");M.$groupPanel=M.$root.find(".ngGroupPanel");M.$headerContainer=M.$topPanel.find(".ngHeaderContainer");L.$headerContainer=M.$headerContainer;M.$headerScroller=M.$topPanel.find(".ngHeaderScroller");M.$headers=M.$headerScroller.children();M.$viewport=M.$root.find(".ngViewport");M.$canvas=M.$viewport.find(".ngCanvas");M.$footerPanel=M.$root.find(".ngFooterPanel");L.$watch(function(){return M.$viewport.scrollLeft()},function(O){return M.$headerContainer.scrollLeft(O)});H.UpdateGridLayout(L,M)};H.getRealWidth=function(O){var M=0;var L={visibility:"hidden",display:"block"};var N=O.parents().andSelf().not(":visible");h.swap(N[0],L,function(){M=O.outerWidth()});return M};H.UpdateGridLayout=function(L,M){var N=M.$viewport.scrollTop();M.elementDims.rootMaxW=M.$root.width();if(M.$root.is(":hidden")){M.elementDims.rootMaxW=H.getRealWidth(M.$root)}M.elementDims.rootMaxH=M.$root.height();M.refreshDomSizes();L.adjustScrollTop(N,true)};H.numberOfGrids=0;H.BuildStyles=function(W,M,U){var L=M.config.rowHeight,N=M.$styleSheet,Q=M.gridId,T,V=W.columns,P=0;if(!N){N=h("#"+Q);if(!N[0]){N=h("<style id='"+Q+"' type='text/css' rel='stylesheet' />").appendTo(M.$root)}}N.empty();var R=W.totalRowWidth();T="."+Q+" .ngCanvas { width: "+R+"px; }."+Q+" .ngRow { width: "+R+"px; }."+Q+" .ngCanvas { width: "+R+"px; }."+Q+" .ngHeaderScroller { width: "+(R+H.ScrollH)+"px}";for(var S=0;S<V.length;S++){var O=V[S];if(O.visible!==false){T+="."+Q+" .col"+S+" { width: "+O.width+"px; left: "+P+"px; height: "+L+"px }."+Q+" .colt"+S+" { width: "+O.width+"px; }";P+=O.width}}if(K.isIe){N[0].styleSheet.cssText=T}else{N[0].appendChild(document.createTextNode(T))}M.$styleSheet=N;W.adjustScrollLeft(M.$viewport.scrollLeft());if(U){H.digest(W)}};H.setColLeft=function(M,Q,N){if(N.$styleSheet){var O=J[M.index];if(!O){O=J[M.index]=new RegExp(".col"+M.index+" { width: [0-9]+px; left: [0-9]+px")}var P=N.$styleSheet.html();var L=P.replace(O,".col"+M.index+" { width: "+M.width+"px; left: "+Q+"px");if(K.isIe){setTimeout(function(){N.$styleSheet.html(L)})}else{N.$styleSheet.html(L)}}};H.setColLeft.immediate=1;H.RebuildGrid=function(L,M){H.UpdateGridLayout(L,M);if(M.config.maintainColumnRatios==null||M.config.maintainColumnRatios){M.configureColumnWidths()}L.adjustScrollLeft(M.$viewport.scrollLeft());H.BuildStyles(L,M,true)};H.digest=function(L){if(!L.$root.$$phase){L.$digest()}};H.ScrollH=17;H.ScrollW=17;H.LetterW=10;I();return H}]);angular.module("ngGrid.services").factory("$sortService",["$parse",function(H){var I={};I.colSortFnCache={};I.guessSortFn=function(J){var K=typeof(J);switch(K){case"number":return I.sortNumber;case"boolean":return I.sortBool;case"string":return J.match(/^[-+]?[£$¤]?[\d,.]+%?$/)?I.sortNumberStr:I.sortAlpha;default:if(Object.prototype.toString.call(J)==="[object Date]"){return I.sortDate}else{return I.basicSort}}};I.basicSort=function(K,J){if(K===J){return 0}if(K<J){return -1}return 1};I.sortNumber=function(K,J){return K-J};I.sortNumberStr=function(L,J){var O,N,M=false,K=false;O=parseFloat(L.replace(/[^0-9.-]/g,""));if(isNaN(O)){M=true}N=parseFloat(J.replace(/[^0-9.-]/g,""));if(isNaN(N)){K=true}if(M&&K){return 0}if(M){return 1}if(K){return -1}return O-N};I.sortAlpha=function(L,J){var M=L.toLowerCase(),K=J.toLowerCase();return M===K?0:(M<K?-1:1)};I.sortDate=function(K,J){var M=K.getTime(),L=J.getTime();return M===L?0:(M<L?-1:1)};I.sortBool=function(K,J){if(K&&J){return 0}if(!K&&!J){return 0}else{return K?1:-1}};I.sortData=function(L,N){if(!N||!L){return}var K=L.fields.length,J=L.fields,M,O,P=N.slice(0);N.sort(function(V,U){var R=0,S=0,T;while(R===0&&S<K){M=L.columns[S];O=L.directions[S];T=I.getSortFn(M,P);var Q=H(J[S])(V);var W=H(J[S])(U);if((!Q&&Q!==0)||(!W&&W!==0)){if(!W&&!Q){R=0}else{if(!Q){R=1}else{if(!W){R=-1}}}}else{R=T(Q,W)}S++}if(O===z){return R}else{return 0-R}})};I.Sort=function(J,K){if(I.isSorting){return}I.isSorting=true;I.sortData(J,K);I.isSorting=false};I.getSortFn=function(J,M){var L,K;if(I.colSortFnCache[J.field]){L=I.colSortFnCache[J.field]}else{if(J.sortingAlgorithm!==undefined){L=J.sortingAlgorithm;I.colSortFnCache[J.field]=J.sortingAlgorithm}else{K=M[0];if(!K){return L}L=I.guessSortFn(H(J.field)(K));if(L){I.colSortFnCache[J.field]=L}else{L=I.sortAlpha}}}return L};return I}]);angular.module("ngGrid.services").factory("$utilityService",["$parse",function(I){var J=/function (.{1,})\(/;var H={visualLength:function(L){var K=document.getElementById("testDataLength");if(!K){K=document.createElement("SPAN");K.id="testDataLength";K.style.visibility="hidden";document.body.appendChild(K)}h(K).css("font",h(L).css("font"));h(K).css("font-size",h(L).css("font-size"));h(K).css("font-family",h(L).css("font-family"));K.innerHTML=h(L).text();return K.offsetWidth},forIn:function(L,K){for(var M in L){if(L.hasOwnProperty(M)){K(L[M],M)}}},evalProperty:function(K,L){return I(L)(K)},endsWith:function(L,K){if(!L||!K||typeof L!=="string"){return false}return L.indexOf(K,L.length-K.length)!==-1},isNullOrUndefined:function(K){if(K===undefined||K===null){return true}return false},getElementsByClassName:function(L){var K=[];var P=new RegExp("\\b"+L+"\\b");var O=document.getElementsByTagName("*");for(var N=0;N<O.length;N++){var M=O[N].className;if(P.test(M)){K.push(O[N])}}return K},newId:(function(){var K=new Date().getTime();return function(){return K+=1}})(),seti18n:function(K,N){var M=n.ngGrid.i18n[N];for(var L in M){K.i18n[L]=M[L]}},getInstanceType:function(M){var L=(J).exec(M.constructor.toString());if(L&&L.length>1){var K=L[1].replace(/^\s+|\s+$/g,"");return K}else{return""}},ieVersion:(function(){var K=3,M=document.createElement("div"),L=M.getElementsByTagName("i");do{M.innerHTML="<!--[if gt IE "+(++K)+"]><i></i><![endif]-->"}while(L[0]);return K>4?K:undefined})()};h.extend(H,{isIe:(function(){return H.ieVersion!==undefined})()});return H}]);var G=function(K,I,J,H){this.rowIndex=0;this.offsetTop=this.rowIndex*J;this.entity=K;this.label=K.gLabel;this.field=K.gField;this.depth=K.gDepth;this.parent=K.parent;this.children=K.children;this.aggChildren=K.aggChildren;this.aggIndex=K.aggIndex;this.collapsed=H;this.groupInitState=H;this.rowFactory=I;this.rowHeight=J;this.isAggRow=true;this.offsetLeft=K.gDepth*25;this.aggLabelFilter=K.aggLabelFilter};G.prototype.toggleExpand=function(){this.collapsed=this.collapsed?false:true;if(this.orig){this.orig.collapsed=this.collapsed}this.notifyChildren()};G.prototype.setExpand=function(H){this.collapsed=H;this.notifyChildren()};G.prototype.notifyChildren=function(){var J=Math.max(this.rowFactory.aggCache.length,this.children.length);for(var I=0;I<J;I++){if(this.aggChildren[I]){this.aggChildren[I].entity[c]=this.collapsed;if(this.collapsed){this.aggChildren[I].setExpand(this.collapsed)}}if(this.children[I]){this.children[I][c]=this.collapsed}if(I>this.aggIndex&&this.rowFactory.aggCache[I]){var H=this.rowFactory.aggCache[I];var K=(30*this.children.length);H.offsetTop=this.collapsed?H.offsetTop-K:H.offsetTop+K}}this.rowFactory.renderedChange()};G.prototype.aggClass=function(){return this.collapsed?"ngAggArrowCollapsed":"ngAggArrowExpanded"};G.prototype.totalChildren=function(){if(this.aggChildren.length>0){var H=0;var I=function(J){if(J.aggChildren.length>0){angular.forEach(J.aggChildren,function(K){I(K)})}else{H+=J.children.length}};I(this);return H}else{return this.children.length}};G.prototype.copy=function(){var H=new G(this.entity,this.rowFactory,this.rowHeight,this.groupInitState);H.orig=this;return H};var F=function(J,Q,H,M,K,N){var R=this,O=J.colDef,L=500,P=0,I=null;R.colDef=J.colDef;R.width=O.width;R.groupIndex=0;R.isGroupedBy=false;R.minWidth=!O.minWidth?50:O.minWidth;R.maxWidth=!O.maxWidth?9000:O.maxWidth;R.enableCellEdit=O.enableCellEdit!==undefined?O.enableCellEdit:(J.enableCellEdit||J.enableCellEditOnFocus);R.headerRowHeight=J.headerRowHeight;R.displayName=(O.displayName===undefined)?O.field:O.displayName;R.index=J.index;R.isAggCol=J.isAggCol;R.cellClass=O.cellClass;R.sortPriority=undefined;R.cellFilter=O.cellFilter?O.cellFilter:"";R.field=O.field;R.aggLabelFilter=O.cellFilter||O.aggLabelFilter;R.visible=N.isNullOrUndefined(O.visible)||O.visible;R.sortable=false;R.resizable=false;R.pinnable=false;R.pinned=(J.enablePinning&&O.pinned);R.originalIndex=J.originalIndex==null?R.index:J.originalIndex;R.groupable=N.isNullOrUndefined(O.groupable)||O.groupable;if(J.enableSort){R.sortable=N.isNullOrUndefined(O.sortable)||O.sortable}if(J.enableResize){R.resizable=N.isNullOrUndefined(O.resizable)||O.resizable}if(J.enablePinning){R.pinnable=N.isNullOrUndefined(O.pinnable)||O.pinnable}R.sortDirection=undefined;R.sortingAlgorithm=O.sortFn;R.headerClass=O.headerClass;R.cursor=R.sortable?"pointer":"default";R.headerCellTemplate=O.headerCellTemplate||K.get("headerCellTemplate.html");R.cellTemplate=O.cellTemplate||K.get("cellTemplate.html").replace(f,R.cellFilter?"|"+R.cellFilter:"");if(R.enableCellEdit){R.cellEditTemplate=K.get("cellEditTemplate.html");R.editableCellTemplate=O.editableCellTemplate||K.get("editableCellTemplate.html")}if(O.cellTemplate&&!x.test(O.cellTemplate)){R.cellTemplate=h.ajax({type:"GET",url:O.cellTemplate,async:false}).responseText}if(R.enableCellEdit&&O.editableCellTemplate&&!x.test(O.editableCellTemplate)){R.editableCellTemplate=h.ajax({type:"GET",url:O.editableCellTemplate,async:false}).responseText}if(O.headerCellTemplate&&!x.test(O.headerCellTemplate)){R.headerCellTemplate=h.ajax({type:"GET",url:O.headerCellTemplate,async:false}).responseText}R.colIndex=function(){var S=R.pinned?"pinned ":"";S+="col"+R.index+" colt"+R.index;if(R.cellClass){S+=" "+R.cellClass}return S};R.groupedByClass=function(){return R.isGroupedBy?"ngGroupedByIcon":"ngGroupIcon"};R.toggleVisible=function(){R.visible=!R.visible};R.showSortButtonUp=function(){return R.sortable?R.sortDirection===e:R.sortable};R.showSortButtonDown=function(){return R.sortable?R.sortDirection===z:R.sortable};R.noSortVisible=function(){return !R.sortDirection};R.sort=function(S){if(!R.sortable){return true}var T=R.sortDirection===z?e:z;R.sortDirection=T;J.sortCallback(R,S);return false};R.gripClick=function(){P++;if(P===1){I=setTimeout(function(){P=0},L)}else{clearTimeout(I);J.resizeOnDataCallback(R);P=0}};R.gripOnMouseDown=function(S){Q.isColumnResizing=true;if(S.ctrlKey&&!R.pinned){R.toggleVisible();M.BuildStyles(Q,H);return true}S.target.parentElement.style.cursor="col-resize";R.startMousePosition=S.clientX;R.origWidth=R.width;h(document).mousemove(R.onMouseMove);h(document).mouseup(R.gripOnMouseUp);return false};R.onMouseMove=function(T){var U=T.clientX-R.startMousePosition;var S=U+R.origWidth;R.width=(S<R.minWidth?R.minWidth:(S>R.maxWidth?R.maxWidth:S));Q.hasUserChangedGridColumnWidths=true;M.BuildStyles(Q,H);return false};R.gripOnMouseUp=function(S){h(document).off("mousemove",R.onMouseMove);h(document).off("mouseup",R.gripOnMouseUp);S.target.parentElement.style.cursor="default";M.digest(Q);Q.isColumnResizing=false;return false};R.copy=function(){var S=new F(J,Q,H,M,K);S.isClone=true;S.orig=R;return S};R.setVars=function(S){R.orig=S;R.width=S.width;R.groupIndex=S.groupIndex;R.isGroupedBy=S.isGroupedBy;R.displayName=S.displayName;R.index=S.index;R.isAggCol=S.isAggCol;R.cellClass=S.cellClass;R.cellFilter=S.cellFilter;R.field=S.field;R.aggLabelFilter=S.aggLabelFilter;R.visible=S.visible;R.sortable=S.sortable;R.resizable=S.resizable;R.pinnable=S.pinnable;R.pinned=S.pinned;R.originalIndex=S.originalIndex;R.sortDirection=S.sortDirection;R.sortingAlgorithm=S.sortingAlgorithm;R.headerClass=S.headerClass;R.headerCellTemplate=S.headerCellTemplate;R.cellTemplate=S.cellTemplate;R.cellEditTemplate=S.cellEditTemplate}};var i=function(H){this.outerHeight=null;this.outerWidth=null;h.extend(this,H)};var b=function(H){this.previousColumn=null;this.grid=H};b.prototype.changeUserSelect=function(I,H){I.css({"-webkit-touch-callout":H,"-webkit-user-select":H,"-khtml-user-select":H,"-moz-user-select":H==="none"?"-moz-none":H,"-ms-user-select":H,"user-select":H})};b.prototype.focusCellElement=function(H,I){if(H.selectionProvider.lastClickedRow){var L=I!==undefined?I:this.previousColumn;var M=H.selectionProvider.lastClickedRow.clone?H.selectionProvider.lastClickedRow.clone.elm:H.selectionProvider.lastClickedRow.elm;if(L!==undefined&&M){var K=angular.element(M[0].children).filter(function(){return this.nodeType!==8});var J=Math.max(Math.min(H.renderedColumns.length-1,L),0);if(this.grid.config.showSelectionCheckbox&&angular.element(K[J]).scope()&&angular.element(K[J]).scope().col.index===0){J=1}if(K[J]){K[J].children[1].children[0].focus()}this.previousColumn=L}}};b.prototype.selectionHandlers=function(I,K){var J=false;var H=this;K.bind("keydown",function(L){if(L.keyCode===16){H.changeUserSelect(K,"none",L);return true}else{if(!J){J=true;var M=v(I,K,L,H.grid);J=false;return M}}return true});K.bind("keyup",function(L){if(L.keyCode===16){H.changeUserSelect(K,"text",L)}return true})};var y=function(L,J,I,K){var H=this;H.colToMove=undefined;H.groupToMove=undefined;H.assignEvents=function(){if(L.config.jqueryUIDraggable&&!L.config.enablePinning){L.$groupPanel.droppable({addClasses:false,drop:function(M){H.onGroupDrop(M)}})}else{L.$groupPanel.on("mousedown",H.onGroupMouseDown).on("dragover",H.dragOver).on("drop",H.onGroupDrop);L.$headerScroller.on("mousedown",H.onHeaderMouseDown).on("dragover",H.dragOver);if(L.config.enableColumnReordering&&!L.config.enablePinning){L.$headerScroller.on("drop",H.onHeaderDrop)}}J.$watch("renderedColumns",function(){K(H.setDraggables)})};H.dragStart=function(M){M.dataTransfer.setData("text","")};H.dragOver=function(M){M.preventDefault()};H.setDraggables=function(){if(!L.config.jqueryUIDraggable){var M=L.$root.find(".ngHeaderSortColumn");angular.forEach(M,function(N){if(N.className&&N.className.indexOf("ngHeaderSortColumn")!==-1){N.setAttribute("draggable","true");if(N.addEventListener){N.addEventListener("dragstart",H.dragStart)}}});if(navigator.userAgent.indexOf("MSIE")!==-1){L.$root.find(".ngHeaderSortColumn").bind("selectstart",function(){this.dragDrop();return false})}}else{L.$root.find(".ngHeaderSortColumn").draggable({helper:"clone",appendTo:"body",stack:"div",addClasses:false,start:function(N){H.onHeaderMouseDown(N)}}).droppable({drop:function(N){H.onHeaderDrop(N)}})}};H.onGroupMouseDown=function(O){var M=h(O.target);if(M[0].className!=="ngRemoveGroup"){var N=angular.element(M).scope();if(N){if(!L.config.jqueryUIDraggable){M.attr("draggable","true");if(this.addEventListener){this.addEventListener("dragstart",H.dragStart)}if(navigator.userAgent.indexOf("MSIE")!==-1){M.bind("selectstart",function(){this.dragDrop();return false})}}H.groupToMove={header:M,groupName:N.group,index:N.$index}}}else{H.groupToMove=undefined}};H.onGroupDrop=function(M){M.stopPropagation();var N;var O;if(H.groupToMove){N=h(M.target).closest(".ngGroupElement");if(N.context.className==="ngGroupPanel"){J.configGroups.splice(H.groupToMove.index,1);J.configGroups.push(H.groupToMove.groupName)}else{O=angular.element(N).scope();if(O){if(H.groupToMove.index!==O.$index){J.configGroups.splice(H.groupToMove.index,1);J.configGroups.splice(O.$index,0,H.groupToMove.groupName)}}}H.groupToMove=undefined;L.fixGroupIndexes()}else{if(H.colToMove){if(J.configGroups.indexOf(H.colToMove.col)===-1){N=h(M.target).closest(".ngGroupElement");if(N.context.className==="ngGroupPanel"||N.context.className==="ngGroupPanelDescription ng-binding"){J.groupBy(H.colToMove.col)}else{O=angular.element(N).scope();if(O){J.removeGroup(O.$index)}}}H.colToMove=undefined}}if(!J.$$phase){J.$apply()}};H.onHeaderMouseDown=function(O){var N=h(O.target).closest(".ngHeaderSortColumn");var M=angular.element(N).scope();if(M){H.colToMove={header:N,col:M.col}}};H.onHeaderDrop=function(O){if(!H.colToMove||H.colToMove.col.pinned){return}var N=h(O.target).closest(".ngHeaderSortColumn");var M=angular.element(N).scope();if(M){if(H.colToMove.col===M.col){return}J.columns.splice(H.colToMove.col.index,1);J.columns.splice(M.col.index,0,H.colToMove.col);L.fixColumnIndexes();H.colToMove=undefined;I.digest(J)}};H.assignGridEventHandlers=function(){if(L.config.tabIndex===-1){L.$viewport.attr("tabIndex",I.numberOfGrids);I.numberOfGrids++}else{L.$viewport.attr("tabIndex",L.config.tabIndex)}var M;h(n).resize(function(){clearTimeout(M);M=setTimeout(function(){I.RebuildGrid(J,L)},100)});var N;h(L.$root.parent()).on("resize",function(){clearTimeout(N);N=setTimeout(function(){I.RebuildGrid(J,L)},100)})};H.assignGridEventHandlers();H.assignEvents()};var k=function(H,I){H.maxRows=function(){var J=Math.max(H.totalServerItems,I.data.length);return J};H.multiSelect=(I.config.enableRowSelection&&I.config.multiSelect);H.selectedItemCount=I.selectedItemCount;H.maxPages=function(){return Math.ceil(H.maxRows()/H.pagingOptions.pageSize)};H.pageForward=function(){var J=H.pagingOptions.currentPage;if(H.totalServerItems>0){H.pagingOptions.currentPage=Math.min(J+1,H.maxPages())}else{H.pagingOptions.currentPage++}};H.pageBackward=function(){var J=H.pagingOptions.currentPage;H.pagingOptions.currentPage=Math.max(J-1,1)};H.pageToFirst=function(){H.pagingOptions.currentPage=1};H.pageToLast=function(){var J=H.maxPages();H.pagingOptions.currentPage=J};H.cantPageForward=function(){var K=H.pagingOptions.currentPage;var J=H.maxPages();if(H.totalServerItems>0){return K>=J}else{return I.data.length<1}};H.cantPageToLast=function(){if(H.totalServerItems>0){return H.cantPageForward()}else{return true}};H.cantPageBackward=function(){var J=H.pagingOptions.currentPage;return J<=1}};var j=function(R,T,K,P,N,I,Q,H,J,O,M){var L={aggregateTemplate:undefined,afterSelectionChange:function(){},beforeSelectionChange:function(){return true},checkboxCellTemplate:undefined,checkboxHeaderTemplate:undefined,columnDefs:undefined,data:[],dataUpdated:function(){},enableCellEdit:false,enableCellEditOnFocus:false,enableCellSelection:false,enableColumnResize:false,enableColumnReordering:false,enableColumnHeavyVirt:false,enablePaging:false,enablePinning:false,enableRowSelection:true,enableSorting:true,enableHighlighting:false,excludeProperties:[],filterOptions:{filterText:"",useExternalFilter:false},footerRowHeight:55,footerTemplate:undefined,groups:[],groupsCollapsedByDefault:true,headerRowHeight:30,headerRowTemplate:undefined,jqueryUIDraggable:false,jqueryUITheme:false,keepLastSelected:true,maintainColumnRatios:undefined,menuTemplate:undefined,multiSelect:true,pagingOptions:{pageSizes:[250,500,1000],pageSize:250,currentPage:1},pinSelectionCheckbox:false,plugins:[],primaryKey:undefined,rowHeight:30,rowTemplate:undefined,selectedItems:[],selectWithCheckboxOnly:false,showColumnMenu:false,showFilter:false,showFooter:false,showGroupPanel:false,showSelectionCheckbox:false,sortInfo:{fields:[],columns:[],directions:[]},tabIndex:-1,totalServerItems:0,useExternalSorting:false,i18n:"en",virtualizationThreshold:50},S=this;S.maxCanvasHt=0;S.config=h.extend(L,n.ngGrid.config,T);S.config.showSelectionCheckbox=(S.config.showSelectionCheckbox&&S.config.enableColumnHeavyVirt===false);S.config.enablePinning=(S.config.enablePinning&&S.config.enableColumnHeavyVirt===false);S.config.selectWithCheckboxOnly=(S.config.selectWithCheckboxOnly&&S.config.showSelectionCheckbox!==false);S.config.pinSelectionCheckbox=S.config.enablePinning;if(typeof T.columnDefs==="string"){S.config.columnDefs=R.$eval(T.columnDefs)}S.rowCache=[];S.rowMap=[];S.gridId="ng"+Q.newId();S.$root=null;S.$groupPanel=null;S.$topPanel=null;S.$headerContainer=null;S.$headerScroller=null;S.$headers=null;S.$viewport=null;S.$canvas=null;S.rootDim=S.config.gridDim;S.data=[];S.lateBindColumns=false;S.filteredRows=[];S.initTemplates=function(){var V=["rowTemplate","aggregateTemplate","headerRowTemplate","checkboxCellTemplate","checkboxHeaderTemplate","menuTemplate","footerTemplate"];var U=[];angular.forEach(V,function(W){U.push(S.getTemplate(W))});return M.all(U)};S.getTemplate=function(W){var V=S.config[W];var U=S.gridId+W+".html";var Y=M.defer();if(V&&!x.test(V)){O.get(V,{cache:I}).success(function(Z){I.put(U,Z);Y.resolve()}).error(function(Z){Y.reject("Could not load template: "+V)})}else{if(V){I.put(U,V);Y.resolve()}else{var X=W+".html";I.put(U,I.get(X));Y.resolve()}}return Y.promise};if(typeof S.config.data==="object"){S.data=S.config.data}S.calcMaxCanvasHeight=function(){var U;if(S.config.groups.length>0){U=S.rowFactory.parsedData.filter(function(V){return !V[c]}).length*S.config.rowHeight}else{U=S.filteredRows.length*S.config.rowHeight}return U};S.elementDims={scrollW:0,scrollH:0,rowIndexCellW:25,rowSelectedCellW:25,rootMaxW:0,rootMaxH:0};S.setRenderedRows=function(V){R.renderedRows.length=V.length;for(var U=0;U<V.length;U++){if(!R.renderedRows[U]||(V[U].isAggRow||R.renderedRows[U].isAggRow)){R.renderedRows[U]=V[U].copy();R.renderedRows[U].collapsed=V[U].collapsed;if(!V[U].isAggRow){R.renderedRows[U].setVars(V[U])}}else{R.renderedRows[U].setVars(V[U])}R.renderedRows[U].rowIndex=V[U].rowIndex;R.renderedRows[U].offsetTop=V[U].offsetTop;R.renderedRows[U].selected=V[U].selected;V[U].renderedRowIndex=U}S.refreshDomSizes();R.$emit("ngGridEventRows",V)};S.minRowsToRender=function(){var U=R.viewportDimHeight()||1;return Math.floor(U/S.config.rowHeight)};S.refreshDomSizes=function(){var U=new i();U.outerWidth=S.elementDims.rootMaxW;U.outerHeight=S.elementDims.rootMaxH;S.rootDim=U;S.maxCanvasHt=S.calcMaxCanvasHeight()};S.buildColumnDefsFromData=function(){S.config.columnDefs=[];var U=S.data[0];if(!U){S.lateBoundColumns=true;return}Q.forIn(U,function(W,V){if(S.config.excludeProperties.indexOf(V)===-1){S.config.columnDefs.push({field:V})}})};S.buildColumns=function(){var X=S.config.columnDefs,W=[];if(!X){S.buildColumnDefsFromData();X=S.config.columnDefs}if(S.config.showSelectionCheckbox){W.push(new F({colDef:{field:"\u2714",width:S.elementDims.rowSelectedCellW,sortable:false,resizable:false,groupable:false,headerCellTemplate:I.get(R.gridId+"checkboxHeaderTemplate.html"),cellTemplate:I.get(R.gridId+"checkboxCellTemplate.html"),pinned:S.config.pinSelectionCheckbox},index:0,headerRowHeight:S.config.headerRowHeight,sortCallback:S.sortData,resizeOnDataCallback:S.resizeOnData,enableResize:S.config.enableColumnResize,enableSort:S.config.enableSorting,enablePinning:S.config.enablePinning},R,S,P,I,Q))}if(X.length>0){var V=S.config.showSelectionCheckbox?1:0;var U=R.configGroups.length;R.configGroups.length=0;angular.forEach(X,function(ab,Y){Y+=V;var Z=new F({colDef:ab,index:Y+U,originalIndex:Y,headerRowHeight:S.config.headerRowHeight,sortCallback:S.sortData,resizeOnDataCallback:S.resizeOnData,enableResize:S.config.enableColumnResize,enableSort:S.config.enableSorting,enablePinning:S.config.enablePinning,enableCellEdit:S.config.enableCellEdit||S.config.enableCellEditOnFocus},R,S,P,I,Q);var aa=S.config.groups.indexOf(ab.field);if(aa!==-1){Z.isGroupedBy=true;R.configGroups.splice(aa,0,Z);Z.groupIndex=R.configGroups.length}W.push(Z)});R.columns=W;if(S.config.groups.length>0){S.rowFactory.getGrouping(S.config.groups)}}};S.configureColumnWidths=function(){var Z=[],ac=[],aa=0,Y=0;var ab={};angular.forEach(R.columns,function(ag,ae){if(!Q.isNullOrUndefined(ag.originalIndex)){var af=ag.originalIndex;if(S.config.showSelectionCheckbox){if(ag.originalIndex===0&&ag.visible){Y+=25}af--}ab[af]=ae}});angular.forEach(S.config.columnDefs,function(ah,ag){var aj=R.columns[ab[ag]];ah.index=ag;var ai=false,af;if(Q.isNullOrUndefined(ah.width)){ah.width="*"}else{ai=isNaN(ah.width)?Q.endsWith(ah.width,"%"):false;af=ai?ah.width:parseInt(ah.width,10)}if(isNaN(af)&&!R.hasUserChangedGridColumnWidths){af=ah.width;if(af==="auto"){aj.width=aj.minWidth;Y+=aj.width;var ae=aj;R.$on("ngGridEventData",function(){S.resizeOnData(ae)});return}else{if(af.indexOf("*")!==-1){if(aj.visible!==false){aa+=af.length}Z.push(ah);return}else{if(ai){ac.push(ah);return}else{throw'unable to parse column width, use percentage ("10%","20%", etc...) or "*" to use remaining width of grid'}}}}else{if(aj.visible!==false){Y+=aj.width=parseInt(aj.width,10)}}});if(ac.length>0){S.config.maintainColumnRatios=S.config.maintainColumnRatios!==false;var X=0;var ad=0;angular.forEach(ac,function(ag){var ah=R.columns[ab[ag.index]];var ae=ag.width;var af=parseInt(ae.slice(0,-1),10)/100;X+=af;if(!ah.visible){ad+=af}});var V=X-ad;angular.forEach(ac,function(ah){var ai=R.columns[ab[ah.index]];var ae=ah.width;var ag=parseInt(ae.slice(0,-1),10)/100;if(ad>0){ag=ag/V}else{ag=ag/X}var af=S.rootDim.outerWidth*X;ai.width=Math.floor(af*ag);Y+=ai.width})}if(Z.length>0){S.config.maintainColumnRatios=S.config.maintainColumnRatios!==false;var U=S.rootDim.outerWidth-Y;if(S.maxCanvasHt>R.viewportDimHeight()){U-=P.ScrollW}var W=Math.floor(U/aa);angular.forEach(Z,function(af,ae){var ai=R.columns[ab[af.index]];ai.width=W*af.width.length;if(ai.visible!==false){Y+=ai.width}var ag=(ae===(Z.length-1));if(ag&&Y<S.rootDim.outerWidth){var ah=S.rootDim.outerWidth-Y;if(S.maxCanvasHt>R.viewportDimHeight()){ah-=P.ScrollW}ai.width+=ah}})}};S.init=function(){return S.initTemplates().then(function(){R.selectionProvider=new m(S,R,J);R.domAccessProvider=new b(S);S.rowFactory=new D(S,R,P,I,Q);S.searchProvider=new g(R,S,N);S.styleProvider=new p(R,S);R.$watch("configGroups",function(U){var V=[];angular.forEach(U,function(W){V.push(W.field||W)});S.config.groups=V;S.rowFactory.filteredRowsChanged();R.$emit("ngGridEventGroups",U)},true);R.$watch("columns",function(U){if(!R.isColumnResizing){P.RebuildGrid(R,S)}R.$emit("ngGridEventColumns",U)},true);R.$watch(function(){return T.i18n},function(U){Q.seti18n(R,U)});S.maxCanvasHt=S.calcMaxCanvasHeight();if(S.config.sortInfo.fields&&S.config.sortInfo.fields.length>0){R.$watch(function(){return S.config.sortInfo},function(U){if(!K.isSorting){S.sortColumnsInit();R.$emit("ngGridEventSorted",S.config.sortInfo)}},true)}})};S.resizeOnData=function(V){var W=V.minWidth;var U=Q.getElementsByClassName("col"+V.index);angular.forEach(U,function(ab,Y){var Z;if(Y===0){var aa=h(ab).find(".ngHeaderText");Z=Q.visualLength(aa)+10}else{var X=h(ab).find(".ngCellText");Z=Q.visualLength(X)+10}if(Z>W){W=Z}});V.width=V.longest=Math.min(V.maxWidth,W+7);P.BuildStyles(R,S,true)};S.lastSortedColumns=[];S.sortData=function(W,U){if(U&&U.shiftKey&&S.config.sortInfo){var Y=S.config.sortInfo.columns.indexOf(W);if(Y===-1){if(S.config.sortInfo.columns.length===1){S.config.sortInfo.columns[0].sortPriority=1}S.config.sortInfo.columns.push(W);W.sortPriority=S.config.sortInfo.columns.length;S.config.sortInfo.fields.push(W.field);S.config.sortInfo.directions.push(W.sortDirection);S.lastSortedColumns.push(W)}else{S.config.sortInfo.directions[Y]=W.sortDirection}}else{var X=h.isArray(W);S.config.sortInfo.columns.length=0;S.config.sortInfo.fields.length=0;S.config.sortInfo.directions.length=0;var V=function(Z){S.config.sortInfo.columns.push(Z);S.config.sortInfo.fields.push(Z.field);S.config.sortInfo.directions.push(Z.sortDirection);S.lastSortedColumns.push(Z)};if(X){S.clearSortingData();angular.forEach(W,function(aa,Z){aa.sortPriority=Z+1;V(aa)})}else{S.clearSortingData(W);W.sortPriority=undefined;V(W)}}S.sortActual();S.searchProvider.evalFilter();R.$emit("ngGridEventSorted",S.config.sortInfo)};S.sortColumnsInit=function(){if(S.config.sortInfo.columns){S.config.sortInfo.columns.length=0}else{S.config.sortInfo.columns=[]}angular.forEach(R.columns,function(V){var U=S.config.sortInfo.fields.indexOf(V.field);if(U!==-1){V.sortDirection=S.config.sortInfo.directions[U]||"asc";S.config.sortInfo.columns[U]=V}});angular.forEach(S.config.sortInfo.columns,function(U){S.sortData(U)})};S.sortActual=function(){if(!S.config.useExternalSorting){var U=S.data.slice(0);angular.forEach(U,function(X,W){var Y=S.rowMap[W];if(Y!==undefined){var V=S.rowCache[Y];if(V!==undefined){X.preSortSelected=V.selected;X.preSortIndex=W}}});K.Sort(S.config.sortInfo,U);angular.forEach(U,function(W,V){S.rowCache[V].entity=W;S.rowCache[V].selected=W.preSortSelected;S.rowMap[W.preSortIndex]=V;delete W.preSortSelected;delete W.preSortIndex})}};S.clearSortingData=function(U){if(!U){angular.forEach(S.lastSortedColumns,function(V){V.sortDirection="";V.sortPriority=null});S.lastSortedColumns=[]}else{angular.forEach(S.lastSortedColumns,function(V){if(U.index!==V.index){V.sortDirection="";V.sortPriority=null}});S.lastSortedColumns[0]=U;S.lastSortedColumns.length=1}};S.fixColumnIndexes=function(){for(var U=0;U<R.columns.length;U++){R.columns[U].index=U}};S.fixGroupIndexes=function(){angular.forEach(R.configGroups,function(V,U){V.groupIndex=U+1})};R.elementsNeedMeasuring=true;R.columns=[];R.renderedRows=[];R.renderedColumns=[];R.headerRow=null;R.rowHeight=S.config.rowHeight;R.jqueryUITheme=S.config.jqueryUITheme;R.showSelectionCheckbox=S.config.showSelectionCheckbox;R.enableCellSelection=S.config.enableCellSelection;R.enableCellEditOnFocus=S.config.enableCellEditOnFocus;R.footer=null;R.selectedItems=S.config.selectedItems;R.multiSelect=S.config.multiSelect;R.showFooter=S.config.showFooter;R.footerRowHeight=R.showFooter?S.config.footerRowHeight:0;R.showColumnMenu=S.config.showColumnMenu;R.showMenu=false;R.configGroups=[];R.gridId=S.gridId;R.enablePaging=S.config.enablePaging;R.pagingOptions=S.config.pagingOptions;R.i18n={};Q.seti18n(R,S.config.i18n);R.adjustScrollLeft=function(Z){var af=0,V=0,ac=R.columns.length,aa=[],W=!S.config.enableColumnHeavyVirt;var U=0;var Y=function(ag){if(W){aa.push(ag)}else{if(!R.renderedColumns[U]){R.renderedColumns[U]=ag.copy()}else{R.renderedColumns[U].setVars(ag)}}U++};for(var ab=0;ab<ac;ab++){var X=R.columns[ab];if(X.visible!==false){var ae=X.width+af;if(X.pinned){Y(X);var ad=ab>0?(Z+V):Z;P.setColLeft(X,ad,S);V+=X.width}else{if(ae>=Z){if(af<=Z+S.rootDim.outerWidth){Y(X)}}}af+=X.width}}if(W){R.renderedColumns=aa}};S.prevScrollTop=0;S.prevScrollIndex=0;R.adjustScrollTop=function(X,W){if(S.prevScrollTop===X&&!W){return}if(X>0&&S.$viewport[0].scrollHeight-X<=S.$viewport.outerHeight()){R.$emit("ngGridEventScroll")}var Y=Math.floor(X/S.config.rowHeight);var V;if(S.filteredRows.length>S.config.virtualizationThreshold){if(S.prevScrollTop<X&&Y<S.prevScrollIndex+u){return}if(S.prevScrollTop>X&&Y>S.prevScrollIndex-u){return}V=new B(Math.max(0,Y-E),Y+S.minRowsToRender()+E)}else{var U=R.configGroups.length>0?S.rowFactory.parsedData.length:S.data.length;V=new B(0,Math.max(U,S.minRowsToRender()+E))}S.prevScrollTop=X;S.rowFactory.UpdateViewableRange(V);S.prevScrollIndex=Y};R.toggleShowMenu=function(){R.showMenu=!R.showMenu};R.toggleSelectAll=function(V,U){R.selectionProvider.toggleSelectAll(V,false,U)};R.totalFilteredItemsLength=function(){return S.filteredRows.length};R.showGroupPanel=function(){return S.config.showGroupPanel};R.topPanelHeight=function(){return S.config.showGroupPanel===true?S.config.headerRowHeight+32:S.config.headerRowHeight};R.viewportDimHeight=function(){return Math.max(0,S.rootDim.outerHeight-R.topPanelHeight()-R.footerRowHeight-2)};R.groupBy=function(U){if(S.data.length<1||!U.groupable||!U.field){return}if(!U.sortDirection){U.sort({shiftKey:R.configGroups.length>0?true:false})}var V=R.configGroups.indexOf(U);if(V===-1){U.isGroupedBy=true;R.configGroups.push(U);U.groupIndex=R.configGroups.length}else{R.removeGroup(V)}S.$viewport.scrollTop(0);P.digest(R)};R.removeGroup=function(V){var U=R.columns.filter(function(W){return W.groupIndex===(V+1)})[0];U.isGroupedBy=false;U.groupIndex=0;if(R.columns[V].isAggCol){R.columns.splice(V,1);R.configGroups.splice(V,1);S.fixGroupIndexes()}if(R.configGroups.length===0){S.fixColumnIndexes();P.digest(R)}R.adjustScrollLeft(0)};R.togglePin=function(U){var W=U.index;var X=0;for(var V=0;V<R.columns.length;V++){if(!R.columns[V].pinned){break}X++}if(U.pinned){X=Math.max(U.originalIndex,X-1)}U.pinned=!U.pinned;R.columns.splice(W,1);R.columns.splice(X,0,U);S.fixColumnIndexes();P.BuildStyles(R,S,true);S.$viewport.scrollLeft(S.$viewport.scrollLeft()-U.width)};R.totalRowWidth=function(){var U=0,W=R.columns;for(var V=0;V<W.length;V++){if(W[V].visible!==false){U+=W[V].width}}return U};R.headerScrollerDim=function(){var V=R.viewportDimHeight(),W=S.maxCanvasHt,X=(W>V),U=new i();U.autoFitHeight=true;U.outerWidth=R.totalRowWidth();if(X){U.outerWidth+=S.elementDims.scrollW}else{if((W-V)<=S.elementDims.scrollH){U.outerWidth+=S.elementDims.scrollW}}return U}};var B=function(I,H){this.topRow=I;this.bottomRow=H};var A=function(H,I,J,L,K){this.entity=H;this.config=I;this.selectionProvider=J;this.rowIndex=L;this.utils=K;this.selected=J.getSelection(H);this.cursor=this.config.enableRowSelection?"pointer":"default";this.beforeSelectionChange=I.beforeSelectionChangeCallback;this.afterSelectionChange=I.afterSelectionChangeCallback;this.offsetTop=this.rowIndex*I.rowHeight;this.rowDisplayIndex=0};A.prototype.setSelection=function(H){this.selectionProvider.setSelection(this,H);this.selectionProvider.lastClickedRow=this};A.prototype.continueSelection=function(H){this.selectionProvider.ChangeSelection(this,H)};A.prototype.ensureEntity=function(H){if(this.entity!==H){this.entity=H;this.selected=this.selectionProvider.getSelection(this.entity)}};A.prototype.toggleSelected=function(I){if(!this.config.enableRowSelection&&!this.config.enableCellSelection){return true}var H=I.target||I;if(H.type==="checkbox"&&H.parentElement.className!=="ngSelectionCell ng-scope"){return true}if(this.config.selectWithCheckboxOnly&&H.type!=="checkbox"){this.selectionProvider.lastClickedRow=this;return true}if(this.beforeSelectionChange(this,I)){this.continueSelection(I)}return false};A.prototype.alternatingRowClass=function(){var I=(this.rowIndex%2)===0;var H={ngRow:true,selected:this.selected,even:I,odd:!I,"ui-state-default":this.config.jqueryUITheme&&I,"ui-state-active":this.config.jqueryUITheme&&!I};return H};A.prototype.getProperty=function(H){return this.utils.evalProperty(this.entity,H)};A.prototype.copy=function(){this.clone=new A(this.entity,this.config,this.selectionProvider,this.rowIndex,this.utils);this.clone.isClone=true;this.clone.elm=this.elm;this.clone.orig=this;return this.clone};A.prototype.setVars=function(H){H.clone=this;this.entity=H.entity;this.selected=H.selected;this.orig=H};var D=function(L,K,J,H,M){var I=this;I.aggCache={};I.parentCache=[];I.dataChanged=true;I.parsedData=[];I.rowConfig={};I.selectionProvider=K.selectionProvider;I.rowHeight=30;I.numberOfAggregates=0;I.groupedData=undefined;I.rowHeight=L.config.rowHeight;I.rowConfig={enableRowSelection:L.config.enableRowSelection,rowClasses:L.config.rowClasses,selectedItems:K.selectedItems,selectWithCheckboxOnly:L.config.selectWithCheckboxOnly,beforeSelectionChangeCallback:L.config.beforeSelectionChange,afterSelectionChangeCallback:L.config.afterSelectionChange,jqueryUITheme:L.config.jqueryUITheme,enableCellSelection:L.config.enableCellSelection,rowHeight:L.config.rowHeight};I.renderedRange=new B(0,L.minRowsToRender()+E);I.buildEntityRow=function(N,O){return new A(N,I.rowConfig,I.selectionProvider,O,M)};I.buildAggregateRow=function(P,O){var N=I.aggCache[P.aggIndex];if(!N){N=new G(P,I,I.rowConfig.rowHeight,L.config.groupsCollapsedByDefault);I.aggCache[P.aggIndex]=N}N.rowIndex=O;N.offsetTop=O*I.rowConfig.rowHeight;return N};I.UpdateViewableRange=function(N){I.renderedRange=N;I.renderedChange()};I.filteredRowsChanged=function(){if(L.lateBoundColumns&&L.filteredRows.length>0){L.config.columnDefs=undefined;L.buildColumns();L.lateBoundColumns=false;K.$evalAsync(function(){K.adjustScrollLeft(0)})}I.dataChanged=true;if(L.config.groups.length>0){I.getGrouping(L.config.groups)}I.UpdateViewableRange(I.renderedRange)};I.renderedChange=function(){if(!I.groupedData||L.config.groups.length<1){I.renderedChangeNoGroups();L.refreshDomSizes();return}I.wasGrouped=true;I.parentCache=[];var N=0;var O=I.parsedData.filter(function(R){if(R.isAggRow){if(R.parent&&R.parent.collapsed){return false}return true}if(!R[c]){R.rowIndex=N++}return !R[c]});I.totalRows=O.length;var Q=[];for(var P=I.renderedRange.topRow;P<I.renderedRange.bottomRow;P++){if(O[P]){O[P].offsetTop=P*L.config.rowHeight;Q.push(O[P])}}L.setRenderedRows(Q)};I.renderedChangeNoGroups=function(){var O=[];for(var N=I.renderedRange.topRow;N<I.renderedRange.bottomRow;N++){if(L.filteredRows[N]){L.filteredRows[N].rowIndex=N;L.filteredRows[N].offsetTop=N*L.config.rowHeight;O.push(L.filteredRows[N])}}L.setRenderedRows(O)};I.fixRowCache=function(){var O=L.data.length;var P=O-L.rowCache.length;if(P<0){L.rowCache.length=L.rowMap.length=O}else{for(var N=L.rowCache.length;N<O;N++){L.rowCache[N]=L.rowFactory.buildEntityRow(L.data[N],N)}}};I.parseGroupData=function(P){if(P.values){for(var O=0;O<P.values.length;O++){I.parentCache[I.parentCache.length-1].children.push(P.values[O]);I.parsedData.push(P.values[O])}}else{for(var Q in P){if(Q===t||Q===s||Q===o){continue}else{if(P.hasOwnProperty(Q)){var N=I.buildAggregateRow({gField:P[t],gLabel:Q,gDepth:P[s],isAggRow:true,_ng_hidden_:false,children:[],aggChildren:[],aggIndex:I.numberOfAggregates,aggLabelFilter:P[o].aggLabelFilter},0);I.numberOfAggregates++;N.parent=I.parentCache[N.depth-1];if(N.parent){N.parent.collapsed=false;N.parent.aggChildren.push(N)}I.parsedData.push(N);I.parentCache[N.depth]=N;I.parseGroupData(P[Q])}}}}};I.getGrouping=function(S){I.aggCache=[];I.numberOfAggregates=0;I.groupedData={};var Z=L.filteredRows,P=S.length,W=K.columns;function O(ab,aa){return ab.filter(function(ac){return ac.field===aa})}for(var X=0;X<Z.length;X++){var T=Z[X].entity;if(!T){return}Z[X][c]=L.config.groupsCollapsedByDefault;var N=I.groupedData;for(var V=0;V<S.length;V++){var Y=S[V];var R=O(W,Y)[0];var Q=M.evalProperty(T,Y);Q=Q?Q.toString():"null";if(!N[Q]){N[Q]={}}if(!N[t]){N[t]=Y}if(!N[s]){N[s]=V}if(!N[o]){N[o]=R}N=N[Q]}if(!N.values){N.values=[]}N.values.push(Z[X])}if(W.length>0){for(var U=0;U<S.length;U++){if(!W[U].isAggCol&&U<=P){W.splice(0,0,new F({colDef:{field:"",width:25,sortable:false,resizable:false,headerCellTemplate:'<div class="ngAggHeader"></div>',pinned:L.config.pinSelectionCheckbox},enablePinning:L.config.enablePinning,isAggCol:true,headerRowHeight:L.config.headerRowHeight},K,L,J,H,M))}}}L.fixColumnIndexes();K.adjustScrollLeft(0);I.parsedData.length=0;I.parseGroupData(I.groupedData);I.fixRowCache()};if(L.config.groups.length>0&&L.filteredRows.length>0){I.getGrouping(L.config.groups)}};var g=function(P,H,O){var R=this,K=[];R.extFilter=H.config.filterOptions.useExternalFilter;P.showFilter=H.config.showFilter;P.filterText="";R.fieldMap={};var M=function(U,Z,V){var ab;for(var T in Z){if(Z.hasOwnProperty(T)){var Y=V[T.toLowerCase()];if(!Y){continue}var S=Z[T];if(typeof S==="object"){return M(U,S,Y)}else{var W=null,aa=null;if(Y&&Y.cellFilter){aa=Y.cellFilter.split(":");W=O(aa[0])}if(S!==null&&S!==undefined){if(typeof W==="function"){var X=W(S,aa[1]).toString();ab=U.regex.test(X)}else{ab=U.regex.test(S.toString())}if(ab){return true}}}}}return false};var L=function(Z,W){var T;var U=R.fieldMap[Z.columnDisplay];if(!U){return false}var Y=U.cellFilter.split(":");var V=U.cellFilter?O(Y[0]):null;var X=W[Z.column]||W[U.field.split(".")[0]];if(X===null||X===undefined){return false}if(typeof V==="function"){var S=V(typeof X==="object"?I(X,U.field):X,Y[1]).toString();T=Z.regex.test(S)}else{T=Z.regex.test(typeof X==="object"?I(X,U.field).toString():X.toString())}if(T){return true}return false};var N=function(V){for(var U=0,T=K.length;U<T;U++){var W=K[U];var S;if(!W.column){S=M(W,V,R.fieldMap)}else{S=L(W,V)}if(!S){return false}}return true};R.evalFilter=function(){if(K.length===0){H.filteredRows=H.rowCache}else{H.filteredRows=H.rowCache.filter(function(T){return N(T.entity)})}for(var S=0;S<H.filteredRows.length;S++){H.filteredRows[S].rowIndex=S}H.rowFactory.filteredRowsChanged()};var I=function(X,T){if(typeof X!=="object"||typeof T!=="string"){return X}var U=T.split(".");var W=X;if(U.length>1){for(var V=1,S=U.length;V<S;V++){W=W[U[V]];if(!W){return X}}return W}return X};var J=function(U,S){try{return new RegExp(U,S)}catch(T){return new RegExp(U.replace(/(\^|\$|\(|\)|<|>|\[|\]|\{|\}|\\|\||\.|\*|\+|\?)/g,"\\$1"))}};var Q=function(S){K=[];var X;if(!(X=h.trim(S))){return}var U=X.split(";");for(var W=0;W<U.length;W++){var V=U[W].split(":");if(V.length>1){var T=h.trim(V[0]);var Z=h.trim(V[1]);if(T&&Z){K.push({column:T,columnDisplay:T.replace(/\s+/g,"").toLowerCase(),regex:J(Z,"i")})}}else{var Y=h.trim(V[0]);if(Y){K.push({column:"",regex:J(Y,"i")})}}}};if(!R.extFilter){P.$watch("columns",function(X){for(var W=0;W<X.length;W++){var U=X[W];if(U.field){if(U.field.match(/\./g)){var V=U.field.split(".");var T=R.fieldMap;for(var S=0;S<V.length-1;S++){T[V[S]]=T[V[S]]||{};T=T[V[S]]}T[V[V.length-1]]=U}else{R.fieldMap[U.field.toLowerCase()]=U}}if(U.displayName){R.fieldMap[U.displayName.toLowerCase().replace(/\s+/g,"")]=U}}})}P.$watch(function(){return H.config.filterOptions.filterText},function(S){P.filterText=S});P.$watch("filterText",function(S){if(!R.extFilter){P.$emit("ngGridEventFilter",S);Q(S);R.evalFilter()}})};var m=function(J,I,K){var H=this;H.multi=J.config.multiSelect;H.selectedItems=J.config.selectedItems;H.selectedIndex=J.config.selectedIndex;H.lastClickedRow=undefined;H.ignoreSelectedItemChanges=false;H.pKeyParser=K(J.config.primaryKey);H.ChangeSelection=function(T,U){var V=U.which||U.keyCode;var O=(V===40||V===38);if(U&&U.shiftKey&&!U.keyCode&&H.multi&&J.config.enableRowSelection){if(H.lastClickedRow){var L;if(I.configGroups.length>0){L=J.rowFactory.parsedData.filter(function(X){return !X.isAggRow})}else{L=J.filteredRows}var Q=T.rowIndex;var M=H.lastClickedRowIndex;if(Q===M){return false}if(Q<M){Q=Q^M;M=Q^M;Q=Q^M;Q--}else{M++}var W=[];for(;M<=Q;M++){W.push(L[M])}if(W[W.length-1].beforeSelectionChange(W,U)){for(var N=0;N<W.length;N++){var S=W[N];var R=S.selected;S.selected=!R;if(S.clone){S.clone.selected=S.selected}var P=H.selectedItems.indexOf(S.entity);if(P===-1){H.selectedItems.push(S.entity)}else{H.selectedItems.splice(P,1)}}W[W.length-1].afterSelectionChange(W,U)}H.lastClickedRow=T;H.lastClickedRowIndex=T.rowIndex;return true}}else{if(!H.multi){if(H.lastClickedRow===T){H.setSelection(H.lastClickedRow,J.config.keepLastSelected?true:!T.selected)}else{if(H.lastClickedRow){H.setSelection(H.lastClickedRow,false)}H.setSelection(T,!T.selected)}}else{if(!U.keyCode||O&&!J.config.selectWithCheckboxOnly){H.setSelection(T,!T.selected)}}}H.lastClickedRow=T;H.lastClickedRowIndex=T.rowIndex;return true};H.getSelection=function(L){var M=false;if(J.config.primaryKey){var N=H.pKeyParser(L);angular.forEach(H.selectedItems,function(O){if(N===H.pKeyParser(O)){M=true}})}else{M=H.selectedItems.indexOf(L)!==-1}return M};H.setSelection=function(N,L){if(J.config.enableRowSelection){if(!L){var M=H.selectedItems.indexOf(N.entity);if(M!==-1){H.selectedItems.splice(M,1)}}else{if(H.selectedItems.indexOf(N.entity)===-1){if(!H.multi&&H.selectedItems.length>0){H.toggleSelectAll(false,true)}H.selectedItems.push(N.entity)}}N.selected=L;if(N.orig){N.orig.selected=L}if(N.clone){N.clone.selected=L}N.afterSelectionChange(N)}};H.toggleSelectAll=function(L,Q,N){var O=N?J.filteredRows:J.rowCache;if(Q||J.config.beforeSelectionChange(O,L)){var P=H.selectedItems.length;if(P>0){H.selectedItems.length=0}for(var M=0;M<O.length;M++){O[M].selected=L;if(O[M].clone){O[M].clone.selected=L}if(L){H.selectedItems.push(O[M].entity)}}if(!Q){J.config.afterSelectionChange(O,L)}}}};var p=function(H,I){H.headerCellStyle=function(J){return{height:J.headerRowHeight+"px"}};H.rowStyle=function(K){var J={top:K.offsetTop+"px",height:H.rowHeight+"px"};if(K.isAggRow){J.left=K.offsetLeft}return J};H.canvasStyle=function(){return{height:I.maxCanvasHt+"px"}};H.headerScrollerStyle=function(){return{height:I.config.headerRowHeight+"px"}};H.topPanelStyle=function(){return{width:I.rootDim.outerWidth+"px",height:H.topPanelHeight()+"px"}};H.headerStyle=function(){return{width:I.rootDim.outerWidth+"px",height:I.config.headerRowHeight+"px"}};H.groupPanelStyle=function(){return{width:I.rootDim.outerWidth+"px",height:"32px"}};H.viewportStyle=function(){return{width:I.rootDim.outerWidth+"px",height:H.viewportDimHeight()+"px"}};H.footerStyle=function(){return{width:I.rootDim.outerWidth+"px",height:H.footerRowHeight+"px"}}};d.directive("ngCellHasFocus",["$domUtilityService",function(H){var I=function(J,K){J.isFocused=true;H.digest(J);J.$broadcast("ngGridEventStartCellEdit");J.$on("ngGridEventEndCellEdit",function(){J.isFocused=false;H.digest(J)})};return function(K,M){var J=false;var L=false;K.editCell=function(){if(!K.enableCellEditOnFocus){setTimeout(function(){I(K,M)},0)}};M.bind("mousedown",function(N){if(K.enableCellEditOnFocus){L=true}else{M.focus()}return true});M.bind("click",function(N){if(K.enableCellEditOnFocus){N.preventDefault();L=false;I(K,M)}});M.bind("focus",function(N){J=true;if(K.enableCellEditOnFocus&&!L){I(K,M)}return true});M.bind("blur",function(){J=false;return true});M.bind("keydown",function(N){if(!K.enableCellEditOnFocus){if(J&&N.keyCode!==37&&N.keyCode!==38&&N.keyCode!==39&&N.keyCode!==40&&N.keyCode!==9&&!N.shiftKey&&N.keyCode!==13){I(K,M)}if(J&&N.shiftKey&&(N.keyCode>=65&&N.keyCode<=90)){I(K,M)}if(N.keyCode===27){M.focus()}}return true})}}]);d.directive("ngCellText",function(){return function(H,I){I.bind("mouseover",function(J){J.preventDefault();I.css({cursor:"text"})});I.bind("mouseleave",function(J){J.preventDefault();I.css({cursor:"default"})})}});d.directive("ngCell",["$compile","$domUtilityService",function(J,I){var H={scope:false,compile:function(){return{pre:function(L,O){var M;var N=L.col.cellTemplate.replace(q,"row.entity."+L.col.field);if(L.col.enableCellEdit){M=L.col.cellEditTemplate;M=M.replace(r,N);M=M.replace(l,L.col.editableCellTemplate.replace(q,"row.entity."+L.col.field))}else{M=N}var K=J(M)(L);if(L.enableCellSelection&&K[0].className.indexOf("ngSelectionCell")===-1){K[0].setAttribute("tabindex",0);K.addClass("ngCellElement")}O.append(K)},post:function(K,L){if(K.enableCellSelection){K.domAccessProvider.selectionHandlers(K,L)}K.$on("ngGridEventDigestCell",function(){I.digest(K)})}}}};return H}]);d.directive("ngEditCellIf",[function(){return{transclude:"element",priority:1000,terminal:true,restrict:"A",compile:function(J,H,I){return function(O,N,K){var M;var L;O.$watch(K.ngEditCellIf,function(P){if(M){M.remove();M=undefined}if(L){L.$destroy();L=undefined}if(P){L=O.$new();I(L,function(Q){M=Q;N.after(Q)})}})}}}}]);d.directive("ngGridFooter",["$compile","$templateCache",function(J,H){var I={scope:false,compile:function(){return{pre:function(K,L){if(L.children().length===0){L.append(J(H.get(K.gridId+"footerTemplate.html"))(K))}}}}};return I}]);d.directive("ngGridMenu",["$compile","$templateCache",function(J,H){var I={scope:false,compile:function(){return{pre:function(K,L){if(L.children().length===0){L.append(J(H.get(K.gridId+"menuTemplate.html"))(K));var M=K.gridOption.toolbars||[];angular.forEach(M.reverse(),function(R,P){var N=R.id+"ngClick",O=R.id+"ngDisabled",Q=h.format('<button type="button" title="{0}" class="btn btn-default" ng-click="{2}()" ng-disabled="{3}()">{1}</button>',R.title,R.label,N,O);K[O]=function(){return R.disabled(K)};K[N]=function(S){if(!h(S).closest("button").hasClass("Disabled")){R.click(K)}};h(J(Q)(K)).prependTo(h(".ngToolbar",L))})}}}}};return I}]);d.directive("ngGrid",["$compile","$filter","$templateCache","$sortService","$domUtilityService","$utilityService","$timeout","$parse","$http","$q",function(M,O,I,J,Q,R,H,K,P,N){var L={scope:true,compile:function(){return{pre:function(T,X,W){var S=h(X);var U=T.$eval(W.ngGrid);U.gridDim=new i({outerHeight:h(S).height(),outerWidth:h(S).width()});var V=new j(T,U,J,Q,O,I,R,H,K,P,N);return V.init().then(function(){if(typeof U.columnDefs==="string"){T.$parent.$watch(U.columnDefs,function(Z){if(!Z){V.refreshDomSizes();V.buildColumns();return}V.lateBoundColumns=false;T.columns=[];V.config.columnDefs=Z;V.buildColumns();V.eventProvider.assignEvents();Q.RebuildGrid(T,V)},true)}else{V.buildColumns()}if(typeof U.totalServerItems==="string"){T.$parent.$watch(U.totalServerItems,function(aa,Z){if(!angular.isDefined(aa)){T.totalServerItems=0}else{T.totalServerItems=aa}})}else{T.totalServerItems=0}if(typeof U.data==="string"){var Y=function(Z){V.data=h.extend([],Z);V.rowFactory.fixRowCache();angular.forEach(V.data,function(ac,aa){var ab=V.rowMap[aa]||aa;if(V.rowCache[ab]){V.rowCache[ab].ensureEntity(ac)}V.rowMap[ab]=aa});V.searchProvider.evalFilter();V.configureColumnWidths();V.refreshDomSizes();if(V.config.sortInfo.fields.length>0){V.sortColumnsInit();T.$emit("ngGridEventSorted",V.config.sortInfo)}T.$emit("ngGridEventData",V.gridId)};T.$parent.$watch(U.data,Y);T.$parent.$watch(U.data+".length",function(){Y(T.$eval(U.data))})}V.footerController=new k(T,V);X.addClass("ngGrid").addClass(V.gridId.toString());if(!U.enableHighlighting){X.addClass("unselectable")}if(U.jqueryUITheme){X.addClass("ui-widget")}X.append(M(I.get("gridTemplate.html"))(T));Q.AssignGridContainers(T,X,V);V.eventProvider=new y(V,T,Q,H);U.selectRow=function(aa,Z){if(V.rowCache[aa]){if(V.rowCache[aa].clone){V.rowCache[aa].clone.setSelection(Z?true:false)}V.rowCache[aa].setSelection(Z?true:false)}};U.selectItem=function(Z,aa){U.selectRow(V.rowMap[Z],aa)};U.selectAll=function(Z){T.toggleSelectAll(Z)};U.selectVisible=function(Z){T.toggleSelectAll(Z,true)};U.groupBy=function(aa){if(aa){T.groupBy(T.columns.filter(function(ab){return ab.field===aa})[0])}else{var Z=h.extend(true,[],T.configGroups);angular.forEach(Z,T.groupBy)}};U.sortBy=function(aa){var Z=T.columns.filter(function(ab){return ab.field===aa})[0];if(Z){Z.sort()}};U.gridId=V.gridId;U.ngGrid=V;U.$gridScope=T;U.$gridServices={SortService:J,DomUtilityService:Q,UtilityService:R};T.$on("ngGridEventDigestGrid",function(){Q.digest(T.$parent)});T.$on("ngGridEventDigestGridParent",function(){Q.digest(T.$parent)});T.$evalAsync(function(){T.adjustScrollLeft(0)});angular.forEach(U.plugins,function(Z){if(typeof Z==="function"){Z=new Z()}Z.init(T.$new(),V,U.$gridServices);U.plugins[R.getInstanceType(Z)]=Z});if(typeof U.init==="function"){U.init(V,T)}return null})}}}};return L}]);d.directive("ngHeaderCell",["$compile",function(H){var I={scope:false,compile:function(){return{pre:function(J,K){K.append(H(J.col.headerCellTemplate)(J))}}}};return I}]);d.directive("ngInput",[function(){return{require:"ngModel",link:function(K,M,I,L){var H;var J=K.$watch("ngModel",function(){H=L.$modelValue;J()});M.bind("keydown",function(N){switch(N.keyCode){case 37:case 38:case 39:case 40:N.stopPropagation();break;case 27:if(!K.$$phase){K.$apply(function(){L.$setViewValue(H);M.blur()})}break;case 13:if(K.enableCellEditOnFocus&&K.totalFilteredItemsLength()-1>K.row.rowIndex&&K.row.rowIndex>0||K.enableCellEdit){M.blur()}break}return true});M.bind("click",function(N){N.stopPropagation()});M.bind("mousedown",function(N){N.stopPropagation()});K.$on("ngGridEventStartCellEdit",function(){M.focus();M.select()});angular.element(M).bind("blur",function(){K.$emit("ngGridEventEndCellEdit")})}}}]);d.directive("ngRow",["$compile","$domUtilityService","$templateCache",function(K,I,H){var J={scope:false,compile:function(){return{pre:function(L,N){L.row.elm=N;if(L.row.clone){L.row.clone.elm=N}if(L.row.isAggRow){var M=H.get(L.gridId+"aggregateTemplate.html");if(L.row.aggLabelFilter){M=M.replace(f,"| "+L.row.aggLabelFilter)}else{M=M.replace(f,"")}N.append(K(M)(L))}else{N.append(K(H.get(L.gridId+"rowTemplate.html"))(L))}L.$on("ngGridEventDigestRow",function(){I.digest(L)})}}}};return J}]);d.directive("ngViewport",[function(){return function(J,L){var I;var K;var H=0;L.bind("scroll",function(M){var O=M.target.scrollLeft,N=M.target.scrollTop;if(J.$headerContainer){J.$headerContainer.scrollLeft(O)}J.adjustScrollLeft(O);J.adjustScrollTop(N);if(!J.$root.$$phase){J.$digest()}K=O;H=N;I=false;return true});L.bind("mousewheel DOMMouseScroll",function(){I=true;if(L.focus){L.focus()}return true});if(!J.enableCellSelection){J.domAccessProvider.selectionHandlers(J,L)}}}]);n.ngGrid.i18n.da={ngAggregateLabel:"artikler",ngGroupPanelDescription:"Grupér rækker udfra en kolonne ved at trække dens overskift hertil.",ngSearchPlaceHolder:"Søg...",ngMenuText:"Vælg kolonner:",ngShowingItemsLabel:"Viste rækker:",ngTotalItemsLabel:"Rækker totalt:",ngSelectedItemsLabel:"Valgte rækker:",ngPageSizeLabel:"Side størrelse:",ngPagerFirstTitle:"Første side",ngPagerNextTitle:"Næste side",ngPagerPrevTitle:"Forrige side",ngPagerLastTitle:"Sidste side"};n.ngGrid.i18n.de={ngAggregateLabel:"artikel",ngGroupPanelDescription:"Ziehen Sie eine Spaltenüberschrift hier und legen Sie es der Gruppe nach dieser Spalte.",ngSearchPlaceHolder:"Suche...",ngMenuText:"Spalten auswählen:",ngShowingItemsLabel:"Zeige Artikel:",ngTotalItemsLabel:"Meiste Artikel:",ngSelectedItemsLabel:"Ausgewählte Artikel:",ngPageSizeLabel:"Größe Seite:",ngPagerFirstTitle:"Erste Page",ngPagerNextTitle:"Nächste Page",ngPagerPrevTitle:"Vorherige Page",ngPagerLastTitle:"Letzte Page"};n.ngGrid.i18n.en={ngAggregateLabel:"items",ngGroupPanelDescription:"Drag a column header here and drop it to group by that column.",ngSearchPlaceHolder:"Search...",ngMenuText:"Choose Columns:",ngShowingItemsLabel:"Showing Items:",ngTotalItemsLabel:"Total Items:",ngSelectedItemsLabel:"Selected Items:",ngPageSizeLabel:"Page Size:",ngPagerFirstTitle:"First Page",ngPagerNextTitle:"Next Page",ngPagerPrevTitle:"Previous Page",ngPagerLastTitle:"Last Page"};n.ngGrid.i18n.es={ngAggregateLabel:"Artículos",ngGroupPanelDescription:"Arrastre un encabezado de columna aquí y soltarlo para agrupar por esa columna.",ngSearchPlaceHolder:"Buscar...",ngMenuText:"Elegir columnas:",ngShowingItemsLabel:"Artículos Mostrando:",ngTotalItemsLabel:"Artículos Totales:",ngSelectedItemsLabel:"Artículos Seleccionados:",ngPageSizeLabel:"Tamaño de Página:",ngPagerFirstTitle:"Primera Página",ngPagerNextTitle:"Página Siguiente",ngPagerPrevTitle:"Página Anterior",ngPagerLastTitle:"Última Página"};n.ngGrid.i18n.fr={ngAggregateLabel:"articles",ngGroupPanelDescription:"Faites glisser un en-tête de colonne ici et déposez-le vers un groupe par cette colonne.",ngSearchPlaceHolder:"Recherche...",ngMenuText:"Choisir des colonnes:",ngShowingItemsLabel:"Articles Affichage des:",ngTotalItemsLabel:"Nombre total d'articles:",ngSelectedItemsLabel:"Éléments Articles:",ngPageSizeLabel:"Taille de page:",ngPagerFirstTitle:"Première page",ngPagerNextTitle:"Page Suivante",ngPagerPrevTitle:"Page précédente",ngPagerLastTitle:"Dernière page"};n.ngGrid.i18n["pt-br"]={ngAggregateLabel:"items",ngGroupPanelDescription:"Arraste e solte uma coluna aqui para agrupar por essa coluna",ngSearchPlaceHolder:"Procurar...",ngMenuText:"Selecione as colunas:",ngShowingItemsLabel:"Mostrando os Items:",ngTotalItemsLabel:"Total de Items:",ngSelectedItemsLabel:"Items Selecionados:",ngPageSizeLabel:"Tamanho da Página:",ngPagerFirstTitle:"Primeira Página",ngPagerNextTitle:"Próxima Página",ngPagerPrevTitle:"Página Anterior",ngPagerLastTitle:"Última Página"};n.ngGrid.i18n["zh-cn"]={ngAggregateLabel:"条目",ngGroupPanelDescription:"拖曳表头到此处以进行分组",ngSearchPlaceHolder:"搜索...",ngMenuText:"数据分组与选择列：",ngShowingItemsLabel:"当前显示条目：",ngTotalItemsLabel:"条目总数：",ngSelectedItemsLabel:"选中条目：",ngPageSizeLabel:"每页显示数：",ngPagerFirstTitle:"回到首页",ngPagerNextTitle:"下一页",ngPagerPrevTitle:"上一页",ngPagerLastTitle:"前往尾页"};n.ngGrid.i18n["zh-tw"]={ngAggregateLabel:"筆",ngGroupPanelDescription:"拖拉表頭到此處以進行分組",ngSearchPlaceHolder:"搜尋...",ngMenuText:"選擇欄位：",ngShowingItemsLabel:"目前顯示筆數：",ngTotalItemsLabel:"總筆數：",ngSelectedItemsLabel:"選取筆數：",ngPageSizeLabel:"每頁顯示：",ngPagerFirstTitle:"第一頁",ngPagerNextTitle:"下一頁",ngPagerPrevTitle:"上一頁",ngPagerLastTitle:"最後頁"};angular.module("ngGrid").run(["$templateCache",function(H){H.put("aggregateTemplate.html",'<div ng-click="row.toggleExpand()" ng-style="rowStyle(row)" class="ngAggregate">    <span class="ngAggregateText">{{row.label CUSTOM_FILTERS}} ({{row.totalChildren()}} {{AggItemsLabel}})</span>    <div class="{{row.aggClass()}}"></div></div>');H.put("cellEditTemplate.html",'<div ng-cell-has-focus ng-dblclick="editCell()">   <div ng-edit-cell-if="!isFocused">           DISPLAY_CELL_TEMPLATE   </div>   <div ng-edit-cell-if="isFocused">       EDITABLE_CELL_TEMPLATE   </div></div>');H.put("cellTemplate.html",'<div class="ngCellText" ng-class="col.colIndex()"><span ng-cell-text>{{COL_FIELD CUSTOM_FILTERS}}</span></div>');H.put("checkboxCellTemplate.html",'<div class="ngSelectionCell"><input tabindex="-1" class="ngSelectionCheckbox" type="checkbox" ng-checked="row.selected" /></div>');H.put("checkboxHeaderTemplate.html",'<input class="ngSelectionHeader" type="checkbox" ng-show="multiSelect" ng-model="allSelected" ng-change="toggleSelectAll(allSelected, true)"/>');H.put("editableCellTemplate.html",'<input ng-class="\'colt\' + col.index" ng-input="COL_FIELD" ng-model="COL_FIELD" />');H.put("footerTemplate.html",'<div ng-show="showFooter" class="ngFooterPanel row" ng-class="{\'ui-widget-content\': jqueryUITheme, \'ui-corner-bottom\': jqueryUITheme}" ng-style="footerStyle()">    <div class="ngFooterTotalItems col-md-3" ng-class="{\'ngNoMultiSelect\': !multiSelect}">        <span class="ngLabel">{{i18n.ngTotalItemsLabel}} {{maxRows()}}</span><span ng-show="filterText.length > 0" class="ngLabel">({{i18n.ngShowingItemsLabel}} {{totalFilteredItemsLength()}})</span>    </div>    <div class="ngPagerContainer col-md-6" ng-class="{\'ngNoMultiSelect\': !multiSelect}">        <div class="ngRowCountPicker" ng-show="enablePaging">            <span class="ngLabel">{{i18n.ngPageSizeLabel}}</span>            <select ng-model="pagingOptions.pageSize" >                <option ng-repeat="size in pagingOptions.pageSizes">{{size}}</option>            </select>        </div>        <div class="ngPagerControl" ng-show="enablePaging">            <button class="ngPagerButton" ng-click="pageToFirst()" ng-disabled="cantPageBackward()" title="{{i18n.ngPagerFirstTitle}}"><div class="ngPagerFirstTriangle"><div class="ngPagerFirstBar"></div></div></button>            <button class="ngPagerButton" ng-click="pageBackward()" ng-disabled="cantPageBackward()" title="{{i18n.ngPagerPrevTitle}}"><div class="ngPagerFirstTriangle ngPagerPrevTriangle"></div></button>            <input class="ngPagerCurrent" min="1" max="{{maxPages()}}" type="number" style="width:50px; height: 24px; margin-top: 1px; padding: 0 4px;" ng-model="pagingOptions.currentPage"/>            <button class="ngPagerButton" ng-click="pageForward()" ng-disabled="cantPageForward()" title="{{i18n.ngPagerNextTitle}}"><div class="ngPagerLastTriangle ngPagerNextTriangle"></div></button>            <button class="ngPagerButton" ng-click="pageToLast()" ng-disabled="cantPageToLast()" title="{{i18n.ngPagerLastTitle}}"><div class="ngPagerLastTriangle"><div class="ngPagerLastBar"></div></div></button>        </div>    </div>    <div class="ngFooterSelectedItems col-md-3" ng-show="multiSelect">        <span class="ngLabel">{{i18n.ngSelectedItemsLabel}} {{selectedItems.length}}</span>    </div></div>');H.put("gridTemplate.html",'<div ng-grid-menu ></div><div class="ngTopPanel" ng-class="{\'ui-widget-header\':jqueryUITheme, \'ui-corner-top\': jqueryUITheme}" ng-style="topPanelStyle()">    <div class="ngGroupPanel" ng-show="showGroupPanel()" ng-style="groupPanelStyle()">        <div class="ngGroupPanelDescription" ng-show="configGroups.length == 0">{{i18n.ngGroupPanelDescription}}</div>        <ul ng-show="configGroups.length > 0" class="ngGroupList">            <li class="ngGroupItem" ng-repeat="group in configGroups">                <span class="ngGroupElement">                    <span class="ngGroupName">{{group.displayName}}                        <span ng-click="removeGroup($index)" class="ngRemoveGroup">x</span>                    </span>                    <span ng-hide="$last" class="ngGroupArrow"></span>                </span>            </li>        </ul>    </div>    <div class="ngHeaderContainer" ng-style="headerStyle()">        <div class="ngHeaderScroller" ng-style="headerScrollerStyle()" ng-include="gridId + \'headerRowTemplate.html\'"></div>    </div></div><div class="ngViewport" unselectable="on" ng-viewport ng-class="{\'ui-widget-content\': jqueryUITheme}" ng-style="viewportStyle()">    <div class="ngCanvas" ng-style="canvasStyle()">        <div ng-style="rowStyle(row)" ng-repeat="row in renderedRows" ng-click="row.toggleSelected($event)" ng-class="row.alternatingRowClass()" ng-row></div>    </div></div><div ng-grid-footer></div>');H.put("headerCellTemplate.html",'<div class="ngHeaderSortColumn {{col.headerClass}}" ng-style="{\'cursor\': col.cursor}" ng-class="{ \'ngSorted\': !noSortVisible }">    <div ng-click="col.sort($event)" ng-class="\'colt\' + col.index" class="ngHeaderText">{{col.displayName}}</div>    <div class="ngSortButtonDown" ng-show="col.showSortButtonDown()"></div>    <div class="ngSortButtonUp" ng-show="col.showSortButtonUp()"></div>    <div class="ngSortPriority">{{col.sortPriority}}</div>    <div ng-class="{ ngPinnedIcon: col.pinned, ngUnPinnedIcon: !col.pinned }" ng-click="togglePin(col)" ng-show="col.pinnable"></div></div><div ng-show="col.resizable" class="ngHeaderGrip" ng-click="col.gripClick($event)" ng-mousedown="col.gripOnMouseDown($event)"></div>');H.put("headerRowTemplate.html",'<div ng-style="{ height: col.headerRowHeight }" ng-repeat="col in renderedColumns" ng-class="col.colIndex()" class="ngHeaderCell">   <div class="ngVerticalBar" ng-style="{height: col.headerRowHeight}" ng-class="{ ngVerticalBarVisible: !$last }">&nbsp;</div>   <div ng-header-cell></div></div>');H.put("menuTemplate.html",'<div class="ngToolbar btn-group btn-group-md"></div><div ng-show="showFilter" class="filter-box float-right">    <input type="text" class="form-control input-sm" placeholder="{{i18n.ngSearchPlaceHolder}}" ng-model="filterText"/></div><div ng-show="showColumnMenu || showFilter" class="ngHeaderButton" ng-click="toggleShowMenu()" title="Select Columns to show">    <div class="ngHeaderButtonArrow"></div></div><div ng-show="showMenu" class="ngColMenu colSelector">    <div ng-show="showColumnMenu">        <span class="ngMenuText">{{i18n.ngMenuText}}</span>        <ul class="ngColList">            <li class="ngColListItem" ng-repeat="col in columns | ngColumns">                <label><input ng-disabled="col.pinned" type="checkbox" class="ngColListCheckbox" ng-model="col.visible"/>{{col.displayName}}</label>                <a title="Group By" ng-class="col.groupedByClass()" ng-show="col.groupable && col.visible" ng-click="groupBy(col)"></a>                <span class="ngGroupingNumber" ng-show="col.groupIndex > 0">{{col.groupIndex}}</span>            </li>        </ul>    </div></div>');H.put("rowTemplate.html",'<div ng-style="{ \'cursor\': row.cursor }" ng-repeat="col in renderedColumns" ng-class="col.colIndex()" class="ngCell {{col.cellClass}}">   <div class="ngVerticalBar" ng-style="{height: rowHeight}" ng-class="{ ngVerticalBarVisible: !$last }">&nbsp;</div>   <div ng-cell></div></div>')}])}(window,a))});